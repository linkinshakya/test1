<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Who Said It? – Constitution Edition</title>
  <style>
    :root{
      --bg:#0b1020;--panel:#111a33;--ink:#e8ecff;--muted:#9fb0ff;--accent:#5b8cff;--good:#19c37d;--bad:#ff6961;
    }
    *{box-sizing:border-box}
    body{
      margin:0;min-height:100svh;display:grid;place-items:center;background:radial-gradient(1000px 600px at 10% -10%,#1b2550,transparent),
      radial-gradient(1000px 600px at 110% 110%,#122040,transparent),var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;
    }
    .app{width:min(920px,95vw);}
    header{display:flex;gap:12px;align-items:center;justify-content:space-between;margin-bottom:12px}
    h1{font-size:clamp(1.2rem,2.2vw+1rem,2rem);margin:0;font-weight:800;letter-spacing:.3px}
    .badge{font-size:.8rem;color:var(--muted)}

    .card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.02));border:1px solid rgba(255,255,255,.08);border-radius:20px;box-shadow:0 10px 40px rgba(0,0,0,.35);padding:18px}

    .quote{font-size:clamp(1.15rem,1.2rem + 1.2vw,1.9rem);line-height:1.4;margin:8px 0 14px;letter-spacing:.2px}
    .quote::before,.quote::after{content:'“';color:var(--muted);}
    .quote::after{content:'”'}

    .choices{display:grid;grid-template-columns:1fr;gap:10px}
    @media(min-width:680px){.choices{grid-template-columns:1fr 1fr}}

    button.choice{
      background:rgba(255,255,255,.06);color:var(--ink);border:1px solid rgba(255,255,255,.09);padding:14px 14px;border-radius:14px;cursor:pointer;text-align:left;font-weight:600;transition:.18s transform ease,.18s background ease,.2s border ease;outline:none
    }
    button.choice:hover{transform:translateY(-1px);background:rgba(255,255,255,.09)}
    button.choice.correct{border-color:rgba(25,195,125,.8);box-shadow:0 0 0 3px rgba(25,195,125,.2) inset}
    button.choice.wrong{border-color:rgba(255,105,97,.85);box-shadow:0 0 0 3px rgba(255,105,97,.15) inset}
    .meta{display:flex;gap:10px;align-items:center;flex-wrap:wrap;color:var(--muted);font-size:.95rem}
    .pill{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.09);padding:6px 10px;border-radius:999px}

    .controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    .btn{background:transparent;color:var(--ink);border:1px solid rgba(255,255,255,.18);padding:10px 12px;border-radius:12px;cursor:pointer;font-weight:700}
    .btn:disabled{opacity:.4;cursor:not-allowed}

    .result{margin-top:10px;padding:12px;border-radius:14px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08)}
    .result h3{margin:0 0 8px}

    footer{margin-top:14px;color:var(--muted);font-size:.9rem;display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap}
    .sr-only{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
  </style>
</head>
<body>
  <div class="app" role="application" aria-labelledby="title">
    <header>
      <h1 id="title">Who Said It? <span class="badge">Constitution Edition (India)</span></h1>
      <div class="meta"><span class="pill" id="score">Score: 0</span><span class="pill" id="streak">Streak: 0</span><span class="pill" id="qprog">Q1</span></div>
    </header>

    <section class="card" aria-live="polite">
      <p id="quote" class="quote">Loading…</p>
      <div class="choices" id="choices" role="group" aria-label="Answer choices"></div>

      <div class="controls">
        <button class="btn" id="hintBtn" type="button" aria-describedby="hint">Hint</button>
        <button class="btn" id="skipBtn" type="button">Skip</button>
        <button class="btn" id="againBtn" type="button" disabled>Play again</button>
      </div>

      <div id="explain" class="result" hidden>
        <h3 id="verdict"> </h3>
        <p id="context"> </p>
      </div>
    </section>

    <footer>
      <div>
        Tip: press <strong>1‑4</strong> to answer quickly. Quotes are provided for learning; if you notice a misattribution, please report it.
      </div>
      <label><input type="checkbox" id="hindiToggle" /> Show Hindi translations (where available)</label>
    </footer>
  </div>

  <script>
    // ———————————————— Data
    // Each item: {quote, author, choices[], hint, context, hi?}
    const BANK = [
      {
        quote: "The Constitution is not a mere lawyers' document; it is a vehicle of life.",
        author: "B. R. Ambedkar",
        choices: ["B. R. Ambedkar","Jawaharlal Nehru","M. K. Gandhi","Sardar Vallabhbhai Patel"],
        hint: "Chief architect of the Indian Constitution.",
        context: "Ambedkar emphasised that the Constitution must respond to society’s needs, not just legal technicalities.",
        hi: "संविधान केवल वकीलों का दस्तावेज़ नहीं; यह जीवन का वाहन है।"
      },
      {
        quote: "A moment comes, which comes but rarely in history, when we step out from the old to the new.",
        author: "Jawaharlal Nehru",
        choices: ["Jawaharlal Nehru","Rajendra Prasad","Sarvepalli Radhakrishnan","Lal Bahadur Shastri"],
        hint: "Delivered on 14–15 August 1947.",
        context: "From Nehru’s ‘Tryst with Destiny’ speech as India became independent.",
        hi: "इतिहास में विरल क्षण आता है जब हम पुराने से नए की ओर कदम बढ़ाते हैं।"
      },
      {
        quote: "Swaraj is my birthright and I shall have it.",
        author: "Bal Gangadhar Tilak",
        choices: ["Bal Gangadhar Tilak","Subhas Chandra Bose","Bhagat Singh","M. K. Gandhi"],
        hint: "Freedom fighter known as Lokmanya.",
        context: "Tilak popularised the demand for self‑rule decades before Independence.",
        hi: "सुराज मेरा जन्मसिद्ध अधिकार है और मैं इसे लेकर रहूँगा।"
      },
      {
        quote: "Give me blood, and I will give you freedom!",
        author: "Subhas Chandra Bose",
        choices: ["Subhas Chandra Bose","Sardar Patel","Jawaharlal Nehru","Ram Manohar Lohia"],
        hint: "Leader of the Indian National Army.",
        context: "Bose’s call to energise the struggle for Independence.",
        hi: "मुझे खून दो, मैं तुम्हें आज़ादी दूँगा!"
      },
      {
        quote: "I measure the progress of a community by the degree of progress which women have achieved.",
        author: "B. R. Ambedkar",
        choices: ["B. R. Ambedkar","Savitribai Phule","M. K. Gandhi","Sarojini Naidu"],
        hint: "Jurist, social reformer and first Law Minister of India.",
        context: "Ambedkar linked social justice with women’s empowerment.",
        hi: "मैं किसी समाज की प्रगति को उसकी महिलाओं की प्रगति से मापता हूँ।"
      },
      {
        quote: "My only desire is that India should be a good producer and no one should be hungry, shedding tears for food in the country.",
        author: "Sardar Vallabhbhai Patel",
        choices: ["Sardar Vallabhbhai Patel","M. K. Gandhi","C. Rajagopalachari","Syama Prasad Mookerjee"],
        hint: "The ‘Iron Man of India’.",
        context: "Patel spoke often about unity, food security and nation‑building.",
        hi: "मेरी एक ही इच्छा है कि भारत एक अच्छा उत्पादक बने और देश में कोई भूखा न रहे।"
      },
      {
        quote: "Education is the manifestation of the perfection already in man.",
        author: "Swami Vivekananda",
        choices: ["Swami Vivekananda","Rabindranath Tagore","Abdul Kalam Azad","Dr. S. Radhakrishnan"],
        hint: "Spiritual leader who inspired youth and national awakening.",
        context: "While not a constitutional framer, his ideas shaped civic spirit and duty.",
        hi: "शिक्षा मनुष्य में निहित पूर्णता का प्रकटीकरण है।"
      }
    ];

    // ———————————————— State
    let order = [];
    let idx = 0, score = 0, streak = 0, locked = false;
    const $ = sel => document.querySelector(sel);

    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[arr[i],arr[j]]=[arr[j],arr[i]];}return arr;
    }

    function init(){
      order = shuffle([...Array(BANK.length).keys()]);
      idx = 0; score = 0; streak = 0; locked = false;
      $('#againBtn').disabled = true;
      $('#explain').hidden = true;
      render();
      updateHUD();
    }

    function updateHUD(){
      $('#score').textContent = `Score: ${score}`;
      $('#streak').textContent = `Streak: ${streak}`;
      $('#qprog').textContent = `Q${idx+1}/${BANK.length}`;
    }

    function render(){
      const q = BANK[order[idx]];
      const showHindi = $('#hindiToggle').checked && q.hi;
      $('#quote').textContent = showHindi ? q.hi : q.quote;

      const choices = $('#choices');
      choices.innerHTML = '';

      q.choices.forEach((name, i)=>{
        const btn = document.createElement('button');
        btn.className = 'choice';
        btn.type = 'button';
        btn.setAttribute('data-i', i);
        btn.innerHTML = `<span class="sr-only">Choice ${i+1}: </span>${name}`;
        btn.addEventListener('click', ()=> answer(name));
        choices.appendChild(btn);
      });

      $('#hintBtn').onclick = ()=> showHint(q.hint);
      $('#skipBtn').onclick = ()=> nextQuestion(false);
      $('#againBtn').onclick = init;
      locked = false;
      $('#explain').hidden = true;
    }

    function showHint(text){
      const box = $('#explain');
      box.hidden = false;
      $('#verdict').textContent = 'Hint';
      $('#context').textContent = text;
    }

    function answer(name){
      if(locked) return; locked = true;
      const q = BANK[order[idx]];
      const correct = name === q.author;
      const nodes = [...document.querySelectorAll('button.choice')];
      nodes.forEach(n=>{
        if(n.textContent.trim() === q.author) n.classList.add('correct');
        if(n.textContent.trim() === name && !correct) n.classList.add('wrong');
        n.disabled = true;
      });

      const box = $('#explain');
      box.hidden = false;
      $('#verdict').textContent = correct ? '✅ Correct!' : `❌ Not quite — It was ${q.author}.`;
      $('#context').textContent = q.context;

      if(correct){ score += 10; streak += 1; }
      else { streak = 0; }
      updateHUD();

      setTimeout(()=> nextQuestion(true), 900);
    }

    function nextQuestion(fromAnswer){
      if(idx < order.length - 1){
        idx++; render(); updateHUD();
      } else {
        $('#quote').textContent = `Great run! Final score: ${score} / ${BANK.length*10}`;
        $('#choices').innerHTML = '';
        $('#againBtn').disabled = false;
        $('#explain').hidden = true;
      }
    }

    // Keyboard access: 1–4 answers, H for hint, S to skip, R to restart
    window.addEventListener('keydown', (e)=>{
      const k = e.key.toLowerCase();
      if(/[1-4]/.test(k)){
        const i = parseInt(k,10)-1;
        const btn = document.querySelectorAll('button.choice')[i];
        if(btn) btn.click();
      } else if(k==='h'){ $('#hintBtn').click(); }
      else if(k==='s'){ $('#skipBtn').click(); }
      else if(k==='r'){ $('#againBtn').click(); }
    });

    // Hindi toggle re-render
    $('#hindiToggle')?.addEventListener('change', ()=> render());

    // Start
    init();
  </script>
</body>
</html>
